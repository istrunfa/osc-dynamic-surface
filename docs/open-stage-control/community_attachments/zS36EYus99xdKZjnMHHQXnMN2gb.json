{
  "type": "root",
  "tabs": [
    {
      "type": "tab",
      "id": "models",
      "linkId": "",
      "label": "^object-group\nmodels",
      "color": "auto",
      "css": "class: tod_main_tab_contents;",
      "default": "",
      "value": "",
      "precision": 0,
      "address": "/tab_1",
      "preArgs": [],
      "target": [],
      "bypass": false,
      "variables": {
        "song_nb": 1
      },
      "widgets": [
        {
          "type": "panel",
          "top": 220,
          "left": 20,
          "id": "loops_list_model",
          "linkId": "",
          "width": 270,
          "height": 180,
          "label": "auto",
          "color": "auto",
          "css": "",
          "scroll": false,
          "border": false,
          "default": "",
          "value": "",
          "precision": 2,
          "address": "/panel_5",
          "preArgs": "",
          "target": "",
          "bypass": false,
          "variables": "{\n  \"name\": \"loop\",\n  \"status\": \"-\",\n  \"on\": \"ON\",\n  \"off\": \"OFF\",\n  \"n\": \"0\",\n  \"icon\": \"-\",\n  \"pct\": 100,\n  \"start\": 0,\n  \"end\": 600,\n  \"song_duration\": 600,\n  \"beats_per_measure\": -1,\n  \"queued\": false,\n  \"song_nb\": @{parent.variables.song_nb}\n}",
          "widgets": [
            {
              "type": "push",
              "top": 0,
              "left": "0.00%",
              "id": "/@{parent.variables.song_nb}/loop_@{parent.variables.n}",
              "linkId": "",
              "width": "100.00%",
              "height": 30,
              "label": "@{parent.variables.name} @{parent.variables.queued}",
              "color": "auto",
              "css": "#{\na=@{parent.variables.queued};\n}\n.label {\n  justify-content: flex-start;\n  color: JS{{\nif(@{parent.variables.status}==\"playing\") return \"yellow\";\nif(@{parent.variables.queued}) return \"red\";\nreturn \"auto\";\n}};\n}",
              "doubleTap": false,
              "on": "ON",
              "off": "OFF",
              "norelease": false,
              "value": "",
              "precision": 2,
              "address": "/@{parent.variables.song_nb}/loops",
              "preArgs": [
                "QUEUE",
                "mode=AFTER_LOOP",
                "loop_name=@{parent.variables.name}"
              ],
              "target": [
                "192.168.0.50:5010"
              ],
              "bypass": false
            }
          ],
          "tabs": []
        },
        {
          "type": "panel",
          "widgets": [
            {
              "type": "panel",
              "top": 0,
              "left": 0,
              "id": "/@{parent.variables.song_nb}/widget_model_loops_panel_inner",
              "linkId": "",
              "width": 200,
              "height": "auto",
              "label": "loops",
              "color": "auto",
              "css": ".label {\n  justify-content: flex-start;\n}",
              "scroll": true,
              "border": false,
              "default": "",
              "value": "",
              "precision": 2,
              "address": "/panel_5",
              "preArgs": "",
              "target": "",
              "bypass": false,
              "variables": "@{parent.variables}",
              "widgets": [
                {
                  "type": "panel",
                  "top": 0,
                  "left": 0,
                  "id": "/@{parent.variables.song_nb}/loops_container2",
                  "linkId": "",
                  "width": "100%",
                  "height": "#{\nsnb=@{parent.variables.song_nb};\nt=@{loops_list.values}[snb.toString()];\nl=length(keys(t));\nconcat(string(l*30), \"\")\n}",
                  "label": false,
                  "color": "auto",
                  "css": "",
                  "scroll": true,
                  "border": false,
                  "default": "",
                  "value": "",
                  "precision": 2,
                  "address": "@{this.id}",
                  "preArgs": "",
                  "target": "",
                  "bypass": false,
                  "variables": "@{parent.variables}",
                  "widgets": [
                    {
                      "type": "matrix",
                      "top": 0,
                      "left": 0,
                      "id": "/@{parent.variables.song_nb}/loops_list_loops",
                      "linkId": "",
                      "width": "100%",
                      "height": "100%",
                      "label": false,
                      "color": "auto",
                      "css": "",
                      "widgetType": "clone",
                      "matrix": "#{\nsnb=@{parent.variables.song_nb};\nt=@{loops_list.values}[snb.toString()];\nl=length(keys(t));\n}\n[\n  1,\n  #{l}\n]",
                      "start": 0,
                      "spacing": 0,
                      "traversing": true,
                      "border": false,
                      "props": "#{\nsnb=@{parent.variables.song_nb};\nt=@{loops_list.values}[snb.toString()];\nk=keys(t);\nn=$;\nvv=t[k[n]];\nicon=(vv[\"status\"]==\"playing\"?\"^pause\":\"^play\");\n}\n{\n  \"widgetId\": \"loops_list_model\",\n  \"props\": {\n    \"label\": false,\n    \"width\": \"100%\",\n    \"height\": \"30\",\n    \"border\": \"0\",\n    \"variables\": {\n      \"n\": \"#{n}\",\n      \"icon\": \"#{icon}\",\n      \"status\": \"#{vv[\"status\"]}\",\n      \"start\": \"#{vv[\"start\"]}\",\n      \"end\": \"#{vv[\"end\"]}\",\n      \"name\": \"#{vv[\"name\"]}\",\n      \"queued\": \"#{vv[\"queued\"]}\",\n      \"beats_per_measure\": \"#{vv[\"beats_per_measure\"]}\",\n      \"song_nb\": \"#{snb}\"\n    }\n  }\n}",
                      "default": "",
                      "value": "",
                      "precision": 2,
                      "address": "/@this.id",
                      "preArgs": "",
                      "target": [
                        "@{services.variables.midiplayer}"
                      ],
                      "bypass": false
                    }
                  ],
                  "tabs": []
                }
              ],
              "tabs": []
            }
          ],
          "label": "auto",
          "top": 220,
          "left": 310,
          "id": "/@{parent.variables.song_nb}/widget_model_loops_panel",
          "linkId": "",
          "width": 270,
          "height": 310,
          "color": "auto",
          "css": "",
          "scroll": true,
          "border": true,
          "default": "",
          "value": "",
          "precision": 2,
          "address": "/panel_7",
          "preArgs": "",
          "target": "",
          "bypass": false,
          "variables": "@{parent.variables}",
          "tabs": []
        },
        {
          "horizontal": false,
          "label": "auto",
          "top": 10,
          "css": "",
          "height": 200,
          "width": 580,
          "type": "switch",
          "left": 20,
          "color": "auto",
          "id": "loops_list",
          "linkId": "",
          "preArgs": [],
          "address": "/@{this.id}",
          "default": "",
          "value": "",
          "precision": 2,
          "target": [],
          "bypass": false,
          "showValues": true,
          "values": {
            "1": {
              "- no loop -": {
                "name": "- no loop -",
                "start": 0,
                "end": 0,
                "status": "stopped",
                "queued": false,
                "beats_per_measure": " "
              },
              "[ whole song ]": {
                "name": "[ whole song ]",
                "start": 0,
                "end": 299.989216,
                "status": "stopped",
                "queued": false,
                "beats_per_measure": " "
              },
              "loop1": {
                "name": "loop1",
                "start": 0,
                "end": 107,
                "status": "stopped",
                "queued": false,
                "beats_per_measure": 8
              },
              "loop2": {
                "name": "loop2",
                "start": 184,
                "end": 212,
                "status": "stopped",
                "queued": false,
                "beats_per_measure": 8
              },
              "loop3": {
                "name": "loop3",
                "start": 244,
                "end": 272,
                "status": "stopped",
                "queued": false,
                "beats_per_measure": 8
              }
            }
          },
          "traversing": true
        },
        {
          "type": "switch",
          "top": 550,
          "left": 20,
          "id": "switch_2",
          "linkId": "",
          "width": 560,
          "height": 390,
          "label": "auto",
          "color": "auto",
          "css": "",
          "horizontal": false,
          "showValues": true,
          "values": "#{@{loops_list.values}[\"1\"]}",
          "traversing": true,
          "default": "",
          "value": "",
          "precision": 2,
          "address": "/switch_2",
          "preArgs": "",
          "target": "",
          "bypass": false
        }
      ],
      "tabs": [],
      "detached": true,
      "scroll": true
    }
  ],
  "color": "auto",
  "css": ".navigation.main {display: #{@{debug}?\"0\":\"none\"};}\n> .panel > .navigation li:nth-child(1) a {\nbackground: yellow;\ncolor: red;\n}\n\n> .panel > .navigation li:nth-child(1){max-width:160px}\n> .panel > .navigation li:nth-child(2){max-width:160px}\n> .panel > .navigation li:nth-child(3){max-width:120px}\n> .panel > .navigation li:nth-child(4){max-width:120px}\n> .panel > .navigation li:nth-child(5){max-width:120px}\n> .panel > .navigation li:nth-child(6){max-width:120px}\n> .panel > .navigation li:nth-child(7){max-width:120px}\n> .panel > .navigation li:nth-child(8){max-width:120px}\n> .panel > .navigation li:nth-child(9){max-width:120px}\n\n\n.navigation.main {\nfont-size:12rem;\nline-height: 1.6;\n}\nclass: tod_main_tab_contents;\n// .panel {background: black !important;}",
  "value": "",
  "precision": 0,
  "address": "/root",
  "preArgs": [],
  "target": [],
  "variables": {},
  "id": "root",
  "linkId": "<< selectTab",
  "default": "",
  "bypass": true,
  "traversing": false,
  "scroll": true,
  "label": false
}